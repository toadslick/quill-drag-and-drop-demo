(this["webpackJsonpquill-demo"]=this["webpackJsonpquill-demo"]||[]).push([[0],{13:function(e,t,n){e.exports=n(25)},18:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(7),r=n.n(i),o=(n(18),n(5)),c=n(3),s=n(4),u=n(1),d=n(11),m=n(10),h=n(12),f=n(2),g=n.n(f),p=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"length",value:function(){return 1}}],[{key:"create",value:function(e){var t=e.title,a=e.slug,l=e.id,i=Object(d.a)(Object(u.a)(n),"create",this).call(this);return i.textContent=t,i.setAttribute("contenteditable","false"),i.dataset.title=t,i.dataset.slug=a,i.dataset.id=l,i}},{key:"value",value:function(e){return e.dataset}}]),n}(g.a.import("blots/embed"));p.blotName="placeholder-token",p.tagName="span",p.className="token";var v=p.tagName.toLowerCase(),b=function(e){var t=e.title,n=e.slug,a=e.id;return l.a.createElement(v,{className:p.className,draggable:"true",onDragStart:function(e){var l="{{".concat(n,"|").concat(a,"}}"),i=JSON.stringify({title:t,slug:n,id:a});e.dataTransfer.setData("text/plain",l),e.dataTransfer.setData("application/vnd.placeholder.token",i)}},t)},E=n(8),k=n(9),O=n.n(k),S=function(){function e(t){Object(c.a)(this,e),this.quill=t,this.onDrop=this.onDrop.bind(this),this.onClick=this.onClick.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.quill.root.addEventListener("drop",this.onDrop,!1),this.quill.root.addEventListener("click",this.onClick,!1),this.quill.on("selection-change",this.onSelectionChange)}return Object(s.a)(e,[{key:"onDrop",value:function(e){var t=this.quill,n=e.dataTransfer.getData("application/vnd.placeholder.token");if(n&&t){if(e.preventDefault(),document.caretRangeFromPoint){var a=document.getSelection(),l=document.caretRangeFromPoint(e.clientX,e.clientY);a&&l&&a.setBaseAndExtent(l.startContainer,l.startOffset,l.startContainer,l.startOffset)}var i=(t.getSelection()||{}).index||t.getLength();t.insertEmbed(i,p.blotName,JSON.parse(n)),t.insertText(i+1," "),t.setSelection(t.getSelection().index+2)}}},{key:"onClick",value:function(e){var t=O.a.find(e.target);t instanceof p&&this.quill.setSelection(t.offset(this.quill.scroll),1,"user")}},{key:"onSelectionChange",value:function(){var e=window.getSelection();this.quill.root.querySelectorAll("".concat(p.tagName,".").concat(p.className)).forEach((function(t){e.containsNode(t,!0)?t.classList.add("selected"):t.classList.remove("selected")}))}}]),e}(),y={formats:["bold","italic",p.blotName],modules:Object(E.a)({toolbar:[["bold","italic"]]},"token-drop",!0),theme:"snow"},N=function(e){var t=e.value,n=e.onChange,i=Object(a.useState)(null),r=Object(o.a)(i,2),c=r[0],s=r[1];return l.a.createElement("div",{ref:function(e){if(!c&&e){e.innerHTML=t;var a=new g.a(e,y);a.on("text-change",(function(){return function(e){var t=(new DOMParser).parseFromString(e,"text/html");t.querySelectorAll(".token").forEach((function(e){var t=e.dataset,n=t.id,a=t.slug;e.replaceWith("{{".concat(a,"|").concat(n,"}}"))})),n(t.body.innerHTML)}(a.root.innerHTML)})),s(a)}},style:{height:200}})};n(24);g.a.register(p),g.a.register("modules/".concat("token-drop"),S);var j=function(){var e=Object(a.useState)("<p>The <strong>quick brown fox</strong> jumps over the <em>lazy dog</em>.</p>"),t=Object(o.a)(e,2),n=t[0],i=t[1];return l.a.createElement("div",{id:"app"},l.a.createElement("aside",null,l.a.createElement("h1",null,"Tokens"),l.a.createElement("ul",{className:"token-list"},l.a.createElement("li",null,l.a.createElement(b,{title:"first name",slug:"first_name",id:"123"})),l.a.createElement("li",null,l.a.createElement(b,{title:"last name",slug:"last_name",id:"456"})),l.a.createElement("li",null,l.a.createElement(b,{title:"email address",slug:"email",id:"789"})))),l.a.createElement("section",null,l.a.createElement("h1",null,"Editor"),l.a.createElement("p",null,"Note: only ",l.a.createElement("strong",null,"bold"),", ",l.a.createElement("strong",null,"italic"),", and"," ",l.a.createElement("strong",null,"tokens")," are enabled."),l.a.createElement(N,{value:n,onChange:i}),l.a.createElement("h1",null,"Output"),l.a.createElement("div",{id:"result"},n)))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(j,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.62aedcd2.chunk.js.map